<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Security-Policy" content="default-src * self blob: data: gap:; style-src * self 'unsafe-inline' blob: data: gap:; script-src * 'self' 'unsafe-eval' 'unsafe-inline' blob: data: gap:; object-src * 'self' blob: data: gap:; img-src * self 'unsafe-inline' blob: data: gap:; connect-src self * 'unsafe-inline' blob: data: gap:; frame-src * self blob: data: gap:;">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    
    <title>Secret blox</title>
  </head>
  <body>
   
    <div class="window-controls">
      <button id="minimize-btn">-</button>
      <button id="close-btn">x</button>
    </div>
  <div class="side-panel">
    <div class="logo" style="-webkit-app-region: drag;">
      <p style="text-align: center; font-size: 20px;">secret <span id="blox" style="color: rgb(223, 33, 33);">blox</span></p>
    </div>

    <div class="directory">
      <p id="directory-title"></p>
      <ul class="file-list">
      </ul>
    </div>

    
  </div>


  <div class="top-bar" style="margin-left: 50px; position: absolute; top: 5px; left: 200px; display: flex;">
    <div class="dropdown">
      <button class="dropbtn">File</button>
      <div class="dropdown-content">
        <a id="OpenFile">Open File</a>
        <a href="#">Open Folder</a>
        
      </div>
    </div>
    <div class="dropdown">
      <button class="dropbtn">Edit</button>
      <div class="dropdown-content">
        <a href="#">Undo</a>
        <a href="#">Redo</a>
        
      </div>
    </div>
  </div>
  
  <style>

  .monaco-editor.vs,
  .monaco-editor.vs .monaco-editor-background {
    background-color: transparent;  
  }
  </style>
  <div style="display: flex; justify-content: center; align-items: flex-end; margin-left: auto;">
    <div id="container" style="width: 950px; height: 490px; margin-top: 36px; margin-left: 40px; text-align: left;"></div>
    <div style="position: absolute; bottom: 5px; right: 5px;">
      <button class="buttons" id="Clear">Clear</button>
      <button class="buttons" id="Execute" style="background-color: #0c0c0ee5; color: white; font-size: 13px; padding: 8px 13px; border: none; cursor: pointer; margin-right: 3px; border-radius: 6px; width: 100px;">Execute</button>
      <button class="buttons" id="Inject" style="background-color: #0c0c0ee5; color: white; font-size: 13px; padding: 8px 13px; border: none; cursor: pointer; margin-right: 3px; border-radius: 6px; width: 100px;">Inject</button>
      
    </div>
  </div>
  <script>
		(function () {
			const path = require('path');
      console.log(path)
			const amdLoader = require('./node_modules/monaco-editor/min/vs/loader.js');
			const amdRequire = amdLoader.require;
			const amdDefine = amdLoader.require.define;

			function uriFromPath(_path) {
				var pathName = path.resolve(_path).replace(/\\/g, '/');
				if (pathName.length > 0 && pathName.charAt(0) !== '/') {
					pathName = '/' + pathName;
				}
				return encodeURI('file://' + pathName);
			}

			amdRequire.config({
				baseUrl: uriFromPath(path.join(__dirname, './node_modules/monaco-editor/min'))
			});

			self.module = undefined;
			amdRequire(['vs/editor/editor.main'], function () {
        monaco.editor.defineTheme('myCoolTheme', {
          base: 'vs-dark',
          inherit: true,
          rules: [       
            { token: 'function', foreground: '#ff6666' }, 
            { token: 'keyword', foreground: '#6666ff' }, 
            { token: 'number', foreground: '#ffb366' }, 
            { token: 'comment', foreground: '#808080' }, 
            { token: 'print', foreground: '#ff6666' }, 
            { token: 'string', foreground: '#ffb366' }, 
            { token: 'io', foreground: '#66ff66' },
            { token: 'print', foreground: '#ff6666' }, 
            { token: 'fact', foreground: '#ff6666' }, 
          ],
          colors: {
            'editor.foreground': '#FFFFFF',
            'editor.background': '#0f0f12',
          }
        });
				var editor = monaco.editor.create(document.getElementById('container'), {
					value: 'print("SecretBlox")',
					language: 'lua',
          theme: 'myCoolTheme',
          suggestOnTriggerCharacters: true,
          wordBasedSuggestions: true,
          suggest: {
            snippets: true,
            customCompletionItems: true,
          },
          automaticLayout: true,
        
          
				});
			});
		})();

	</script>




</body>
</html>